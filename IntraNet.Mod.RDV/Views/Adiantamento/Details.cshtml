@model IntraNet.Mod.RDV.Models.ViewModel.AdiantamentoViewModel
@{ 
    Layout = null;
}

    <h3><i class="glyphicon glyphicon-ok">&nbsp;</i>Adiantamento</h3>
    <hr />
    <div id="result"></div>
<div class="form-horizontal">
    <div class="row col-md-12">
        @Html.Label("Requerente:", htmlAttributes: new { @class = "control-label col-md-4 LabelLeft" })

        <div class="col-md-6">
            @Html.EditorFor(model => model.UserId, new { htmlAttributes = new { @class = "form-control", @disabled="disabled"  } })
        </div>
        <br />
    </div>
    <br />
    <div class="row col-md-12">
        @Html.Label("Item:", htmlAttributes: new { @class = "control-label col-md-4 LabelLeft" })

        <div class="col-md-6">
            @Html.EditorFor(model => model.solicitaempresa.Fornecedor, new { htmlAttributes = new { @class = "form-control", @disabled = "disabled" } })
        </div>
        <br />
    </div>
    <br />
    <div class="row col-md-12">
       @Html.Label("Requisitado em:", htmlAttributes: new { @class = "control-label col-md-4 LabelLeft" })

       <div class="col-md-6">
           @Html.EditorFor(model => model.SolicitadoEm, new { htmlAttributes = new { @class = "form-control", @disabled = "disabled" } })
       </div>
        <br />
    </div >
    <br />
    <div class="row col-md-12">
        @Html.Label("Data Viagem:", htmlAttributes: new { @class = "control-label col-md-4 LabelLeft" })

        <div class="col-md-6">
            @Html.EditorFor(model => model.DataPrevista, new { htmlAttributes = new { @class = "form-control", @disabled = "disabled" } })
        </div>
        <br />
    </div>
    <br />
    <div class="row col-md-12">
        @Html.Label("Situação:", htmlAttributes: new { @class = "control-label col-md-4 LabelLeft" })

        <div class="col-md-6">
            @Html.EditorFor(model => model.Situacao, new { htmlAttributes = new { @class = "form-control", @disabled = "disabled" } })
        </div>
        <br/>
    </div>
    <br />
    <div class="row col-md-12">
        @Html.Label("Valor:", htmlAttributes: new { @class = "control-label col-md-4 LabelLeft" })

        <div class="col-md-6">
            @Html.EditorFor(model => model.AdiantamentoValor, new { htmlAttributes = new { @class = "form-control", @disabled = "disabled" } })
        </div>
    </div>
    <br/>
    <div class="row col-md-12">
        @Html.Label("Aprov. Responsavel:", htmlAttributes: new { @class = "control-label col-md-4 LabelLeft" })

        <div class="col-md-6">
            @Html.EditorFor(model => model.aprovador.ArpovName, new { htmlAttributes = new { @class = "form-control", @disabled = "disabled" } })
        </div>
    </div>
    </div>
    <div>
        <label><b>Dados para reembolso:</b></label>
    </div>
    <table>
        <tr>
            <th>banco</th>
            <th>Agencia</th>
            <th>Dv</th>
            <th>Conta</th>
            <th>Cpf</th>
        </tr>
        <tr>
            <td>@Html.DisplayFor(model => model.dadosbancarios.Banco)</td>
            <td>@Html.DisplayFor(model => model.dadosbancarios.Agencia)</td>
            <td>@Html.DisplayFor(model => model.dadosbancarios.Dv)</td>
            <td>@Html.DisplayFor(model => model.dadosbancarios.ContaCorrente)</td>
            <td>@Html.DisplayFor(model => model.dadosbancarios.Cpf)</td>
        </tr>
    </table>
<hr/>

    <div class="row col-md-12" style="padding-left: 20%;">

        <button class="btn btn-default" onclick="location.href ='@Url.Action("FinanceiroReport", "Adiantamento", new { id=@Model.AdiantamentoId})'">Download &nbsp;<i class="glyphicon glyphicon-download-alt"></i></button>
        @if (User.IsInRole("Aprovador"))
        {
            <button class="btn btn-default" onclick="AprovarAD(@Model.AdiantamentoId)">
                <i class="glyphicon glyphicon-ok-circle">&nbsp;</i>Aprovar
            </button>
        }
        
        @if (User.IsInRole("Financeiro"))
        {
            <button class="btn btn-default" onclick="ConfirmaPgtAD(@Model.AdiantamentoId)">
                <i class="glyphicon glyphicon-ok-circle">&nbsp;</i>Confirmar entrega
            </button>
        }
        <button class="btn btn-default" onclick="$('#myModal').modal('hide')">
            <i class="glyphicon glyphicon-remove-circle">&nbsp;</i>Cancelar
        </button>
    </div>
